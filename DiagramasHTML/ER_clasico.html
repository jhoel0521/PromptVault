<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Diagrama E/R Clásico</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;margin:18px;background:#fafafa;color:#111}
    h1{font-size:20px;margin-bottom:6px}
    p{margin:6px 0 14px}
    .box{background:#fff;padding:12px;border:1px solid #e2e8f0;border-radius:6px}
    svg{width:100%;height:820px;background:#fff;border:1px solid #ddd}
    .entity rect{fill:#fff;stroke:#0b5;stroke-width:2}
    .entity text.title{font-weight:700;fill:#063}
    .attr ellipse{fill:#fff;stroke:#666;stroke-width:1}
    .rel rect{fill:#fff;stroke:#c63;stroke-width:2}
    .diamond{fill:#fff;stroke:#c63;stroke-width:2}
    .line{stroke:#333;stroke-width:1.6}
    .card{font-size:12px;fill:#111}
    .legend{font-size:13px}
  </style>
</head>
<body>
  <div class="box">
    <h1>Modelo Entidad-Relación (Clásico)</h1>
    <p>Elementos principales y símbolos usados: rectángulos = Entidades, óvalos = Atributos, rombo = Relación, líneas/flechas = conectores con cardinalidad (1, N). No se muestran tablas intermedias para N:M (solo la relación conceptual).</p>
  </div>

  <svg viewBox="0 0 1200 820" xmlns="http://www.w3.org/2000/svg">
    <!-- Entities (rectángulos) -->
    <g class="entity" transform="translate(60,60)">
      <rect x="0" y="0" width="220" height="60" rx="6"/>
      <text x="12" y="36" class="title">USERS</text>
    </g>
    <g class="entity" transform="translate(360,60)">
      <rect x="0" y="0" width="220" height="60" rx="6"/>
      <text x="12" y="36" class="title">ROLES</text>
    </g>

    <g class="entity" transform="translate(60,220)">
      <rect x="0" y="0" width="300" height="60" rx="6"/>
      <text x="12" y="36" class="title">PROMPTS</text>
    </g>
    <g class="entity" transform="translate(460,220)">
      <rect x="0" y="0" width="220" height="60" rx="6"/>
      <text x="12" y="36" class="title">VERSIONES</text>
    </g>

    <g class="entity" transform="translate(60,380)">
      <rect x="0" y="0" width="200" height="60" rx="6"/>
      <text x="12" y="36" class="title">ETIQUETAS</text>
    </g>

    <g class="entity" transform="translate(360,380)">
      <rect x="0" y="0" width="240" height="60" rx="6"/>
      <text x="12" y="36" class="title">COMENTARIOS</text>
    </g>

    <g class="entity" transform="translate(720,220)">
      <rect x="0" y="0" width="280" height="60" rx="6"/>
      <text x="12" y="36" class="title">CALIFICACIONES</text>
    </g>

    <!-- Attributes (óvalos) for USERS -->
    <g class="attr" transform="translate(10,10)">
      <ellipse cx="-20" cy="40" rx="68" ry="18"/>
      <text x="-45" y="44" class="card">id (PK)</text>
    </g>
    <g class="attr" transform="translate(60,60)">
      <ellipse cx="-20" cy="120" rx="78" ry="18"/>
      <text x="-84" y="124" class="card">name</text>
    </g>
    <!-- For clarity we place attribute labels near entities instead of accurate ovals for all -->

    <!-- Relationship USERS - ROLES (1:N) -->
    <g transform="translate(280,85)">
      <line x1="0" y1="0" x2="80" y2="0" class="line"/>
      <text x="22" y="-6" class="card">N</text>
      <text x="86" y="-6" class="card">1</text>
    </g>

    <!-- Relationship PROMPTS - USERS (1:N) as diamond -->
    <g transform="translate(230,230)">
      <polygon points="0,-18 22,0 0,18 -22,0" class="diamond"/>
      <text x="-6" y="6" class="card">CREA</text>
      <line x1="-140" y1="0" x2="-22" y2="0" class="line"/>
      <line x1="22" y1="0" x2="160" y2="0" class="line"/>
      <text x="-90" y="-6" class="card">1</text>
      <text x="140" y="-6" class="card">N</text>
    </g>

    <!-- Relationship PROMPTS - VERSIONES (1:N) -->
    <g transform="translate(420,250)">
      <polygon points="0,-18 22,0 0,18 -22,0" class="diamond"/>
      <text x="-24" y="6" class="card">TIENE</text>
      <line x1="-140" y1="0" x2="-22" y2="0" class="line"/>
      <line x1="22" y1="0" x2="140" y2="0" class="line"/>
      <text x="-90" y="-6" class="card">1</text>
      <text x="120" y="-6" class="card">N</text>
    </g>

    <!-- Relationship PROMPTS - ETIQUETAS (N:M) conceptual -->
    <g transform="translate(200,380)">
      <polygon points="0,-18 22,0 0,18 -22,0" class="diamond"/>
      <text x="-28" y="6" class="card">ETIQUETA_DE</text>
      <line x1="-120" y1="0" x2="-22" y2="0" class="line"/>
      <line x1="22" y1="0" x2="120" y2="0" class="line"/>
      <text x="-80" y="-6" class="card">N</text>
      <text x="80" y="-6" class="card">N</text>
    </g>

    <!-- Relationship PROMPTS - COMENTARIOS (1:N) -->
    <g transform="translate(240,320)">
      <polygon points="0,-18 22,0 0,18 -22,0" class="diamond"/>
      <text x="-24" y="6" class="card">TIENE</text>
      <line x1="-80" y1="0" x2="-22" y2="0" class="line"/>
      <line x1="22" y1="0" x2="120" y2="60" class="line"/>
      <text x="-46" y="-6" class="card">1</text>
      <text x="110" y="68" class="card">N</text>
    </g>

    <!-- Relationship PROMPTS - CALIFICACIONES (1:N) -->
    <g transform="translate(560,260)">
      <polygon points="0,-18 22,0 0,18 -22,0" class="diamond"/>
      <text x="-28" y="6" class="card">RECIBE</text>
      <line x1="-140" y1="0" x2="-22" y2="0" class="line"/>
      <line x1="22" y1="0" x2="160" y2="0" class="line"/>
      <text x="-110" y="-6" class="card">1</text>
      <text x="140" y="-6" class="card">N</text>
    </g>

    <!-- Small legend and definitions -->
    <g transform="translate(20,640)">
      <rect x="0" y="0" width="1140" height="150" rx="6" fill="#fff" stroke="#ddd"/>
      <text x="12" y="24" class="legend">Elementos principales:</text>
      <text x="12" y="46" class="legend">- Entidad (rectángulo): representa objetos del mundo real con existencia propia (ej. `USERS`, `PROMPTS`).</text>
      <text x="12" y="66" class="legend">- Atributo (óvalo): propiedades de una entidad (ej. `id` PK, `email`, `titulo`).</text>
      <text x="12" y="86" class="legend">- Relación (rombo): describe cómo se conectan entidades (ej. `CREA`, `TIENE`).</text>
      <text x="12" y="106" class="legend">- Cardinalidad (texto cerca de la línea): indica 1, N (1:1, 1:N, N:M).</text>
      <text x="600" y="46" class="legend">Nota: Las relaciones N:M se muestran conceptualmente sin crear tablas intermedias here.</text>
      <text x="600" y="66" class="legend">¿Quieres que convierta este diagrama a PNG/PDF o que añada atributos detallados (óvalos) para cada entidad?</text>
    </g>
  </svg>
</body>
</html>